---
title: "About NLP - 전처리"
excerpt: "전처리의 workflow"
toc: true
toc_sticky: true

author_profile: false

date: 2020-01-05 20:00:00 -0000
categories: 
  - NLP
tags:
  - 
---
## 데이터 
* 네이버 영화 리뷰 데이터 'Naver sentiment movie corpus v1.0'
* 출처: [https://github.com/e9t/nsmc](https://github.com/e9t/nsmc)
* 본 글에서는 평가 데이터만을 예시로 사용한다.

## setup
```python
import pandas as pd
import re
import pickle
from tqdm import tqdm
from konlpy.tag import Okt
```
## 파일 크기 확인
```python
import os

def get_file_size(file_name):
    size = round(os.path.getsize(DATA_PATH + '/ratings_test.txt') / 1000000, 2)
    print('file size: {} MB'.format(size))

FILE_NAME = 'ratings_test.txt'
get_file_size(FILE_NAME)
```
```
file size: 4.89 MB
```
## 파일 읽기
```python
data = pd.read_csv(DATA_PATH + '/' + FILE_NAME, 
                   header=0,
                   delimiter='\t',
                   quoting=3)
# 텍스트 데이터만을 따로 뽑아서 사용
text_data = data['document']
text_data.head()
```
```
0                                                  굳 ㅋ
1                                 GDNTOPCLASSINTHECLUB
2               뭐야 이 평점들은.... 나쁘진 않지만 10점 짜리는 더더욱 아니잖아
3                     지루하지는 않은데 완전 막장임... 돈주고 보기에는....
4    3D만 아니었어도 별 다섯 개 줬을텐데.. 왜 3D로 나와서 제 심기를 불편하게 하죠??
Name: document, dtype: object
```
만약 텍스트 데이터가 html 형식으로 구성되어 있다면, `BeautifulSoup`을 이용하여 html 문법에 해당하는 문자들을 모두 제거하고 본격적인 전처리에 돌입하는 것이 좋다.

* `BeautifulSoup`에 대한 사용법은 다른 게시글에서 자세히 다루겠습니다!

## 한글화
일반적으로 한글의 텍스트 마이닝을 할 때, 영어와 같은 경우에는 단어 사전에 포함시켜야 하는 유의미한 단어인 경우가 매우 드물다. 즉, 특수한 전문 용어 이외에는 텍스트 분류나 유사도와 같은 분석 결과에 영향을 거의 미치지 않는다(숫자와 특수문자는 당연히 제외되어야 한다).

특히나, 예를 들면 감성 분석과 같은 텍스트 마이닝 과제를 통해 한글 감성 사전을 구축한다고 가정해보자. 이러한 경우에는 'USA', '15.5%'


특수문자는 당연히 전체 단어 사전에 포함될 이유가 전혀 없고, 영어와 같은 경우에도 그 분석 결과에 영향을 미치는 경우는 거의 없다. 즉, 특수문자와 영어 같은 경우에는 한글 텍스트 마이닝에서 
만약 영향을 미치더라도 전문 용어나 
<!--stackedit_data:
eyJoaXN0b3J5IjpbMTQ1MTkwNTg4OV19
-->